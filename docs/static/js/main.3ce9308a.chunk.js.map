{"version":3,"sources":["assets/img/logo.png","Componentes/Navbar.js","Services/axiosConfig.js","Componentes/Post.js","Componentes/PostList.js","Componentes/Searchbar.js","Componentes/Profile.js","Componentes/login.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","onLogoClick","onProfileClick","className","onClick","src","logo","alt","id","http","axios","create","baseURL","withCredentials","interceptors","response","use","error","status","localStorage","clear","window","location","replace","getPost","get","Post","postid","image","createdAt","author","text","likes","comments","useState","like","setLike","changeColor","post","likePost","then","a","postTemp","data","map","item","catch","coments","index","user","avatar","width","username","Date","toDateString","type","PostList","posts","search","filter","filterPost","lower","toLowerCase","includes","SearchBar","value","onSearch","placeholder","onChange","idValue","document","getElementById","Profile","bio","onClickLogout","body","getItem","password","logoutBtn","logout","Login","props","setError","changeLike","bool","closeMessageDiv","setInterval","onSubmit","event","preventDefault","target","email","setItem","login","userID","JSON","stringify","onLoginComplete","htmlFor","name","App","loadingText","setPost","currentUser","setcurrentUser","loginOk","setLoginOK","setSearch","section","setSection","history","useHistory","parse","handlePost","handleUser","userParam","handleLoginOk","changeSection","push","useEffect","users","profile","length","changeSearch","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3ce9308a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.dae854f5.png\";","import logo from '../assets/img/logo.png';\r\nimport React from 'react';\r\nimport { PersonCircle } from 'react-bootstrap-icons';\r\n\r\nfunction Navbar({onLogoClick, onProfileClick}){\r\n  return (\r\n    <nav className=\"navbar navbar-expand-md navbar-expand-lg navbar-light\">\r\n      <div className=\"container-fluid\">\r\n        <a onClick={()=>{onLogoClick('Post');}}><img src={logo} alt=\"\" id=\"logo\"></img></a>\r\n        <div onClick={()=>{onProfileClick('Logo');}}>\r\n          <PersonCircle className=\"bi-circle-person\"></PersonCircle>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import  axios from 'axios';\r\n    \r\nconst http = axios.create({\r\n  baseURL: 'https://three-points.herokuapp.com/',\r\n  withCredentials: true\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if(error?.response.status === 401){\r\n      localStorage.clear();\r\n      window.location.replace('/login');\r\n    }\r\n  }\r\n);\r\n\r\nexport const getPost = () => http.get('api/posts');\r\n\r\nexport const getUser = (users) => http.get('api/users/' + users);\r\n\r\nexport const login = (body) => http.post('api/login', body);\r\n\r\nexport const logout = (body) => http.post('api/logout', body);\r\n\r\nexport const likePost = (postid) => http.post(`api/posts/${postid}/like`);\r\n","import React, {useState} from 'react';\r\nimport { HeartFill } from 'react-bootstrap-icons'; \r\nimport { likePost , getPost } from '../Services/axiosConfig';\r\n\r\nfunction Post({id, postid, image, createdAt, author, text, likes, comments}){\r\n  \r\n  const [like, setLike] = useState(likes);\r\n\r\n  let changeColor = () =>{ \r\n    likePost(postid)\r\n      .then(async(response) =>{\r\n        if(response?.status === 200 || response?.status === 204){\r\n          await getPost().then(async (response) =>{\r\n            if(response?.status === 200 || response?.status === 204){\r\n              let postTemp = response?.data\r\n                .map((item)=>{\r\n                  if(item.id === postid){\r\n                    return item.likes;\r\n                  }\r\n                });\r\n              setLike(postTemp);\r\n            }\r\n          });\r\n        }\r\n      })\r\n      .catch(()=>{\r\n        //Error\r\n      });\r\n  };\r\n  \r\n  const coments = comments.map((item, index)=>{\r\n    return(\r\n      <div key={index}  className=\"comments m-2\" id=\"commentFirstId\">          \r\n        <div className=\"d-flex flex-row mb-2 commentclassName\" id=\"commentIdFirst\">\r\n          <img src={item.user.avatar} width=\"40\" className=\"rounded-image\"></img>\r\n          <div className=\"d-flex flex-column ms-2\"> \r\n            <span className=\"name\">{item.user.username}</span><small className=\"comment-text\">{item.text}</small>\r\n            <div className=\"d-flex flex-row align-items-center status\"> \r\n              <small>{new Date(item.createdAt).toDateString()}</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n  return(\r\n    <div>\r\n      <div className=\"card mb-3\">\r\n        <div className=\"row g-0\">\r\n          <div className=\"col-12 col-sm-12 col-md-6 col-lg-4\">\r\n            <img src={image} className=\"img-fluid rounded-start img-post\" alt=\"\"></img>\r\n            <small className=\"text-muted\">{new Date(createdAt).toDateString()}</small>\r\n          </div>\r\n          <div className=\"col-12 col-sm-6 col-md-6 col-lg-4 post-div\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{author}</h5>\r\n              <p className=\"card-text\">{text}</p>\r\n              <hr></hr>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between align-items-center optionComment\">\r\n              <div className=\"d-flex flex-row icons d-flex align-items-center\"> \r\n                <HeartFill className=\"bi-heart-fill mb-2 ms-1\" id={`heart${id}`} onClick={() => changeColor()}/>                                  \r\n                <p className=\"mb-2\" id=\"likeQuan\">{like}</p>\r\n              </div>\r\n            </div>     \r\n          </div>\r\n          <div className=\"col-12 col-sm-6 col-md-12 col-lg-4 comment-div\" id=\"parentCommentId\">\r\n            {coments}\r\n            <div className=\"comment-input mx-2\"> \r\n              <input type=\"text\" className=\"form-control comment-input-text\"></input>\r\n            </div>\r\n            <div className=\"mt-2 post-button\">\r\n              <button type=\"button\" className=\"btn btn-primary comment-button\">Comentar</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Post;","import Post from './Post';\r\nimport React from 'react';\r\n\r\nfunction PostList({posts, search}){\r\n  return(\r\n    <div className=\"mt-3\">\r\n      {posts.filter((filterPost) => { \r\n        let lower = search.toLowerCase();\r\n        return filterPost.text.toLowerCase().includes(lower);\r\n      })\r\n        .map((post,index) => (\r\n          <Post \r\n            key={index}\r\n            id={index}\r\n            postid={post.id}\r\n            image={post.image}\r\n            createdAt={post.createdAt}\r\n            author={post.author.username}\r\n            text={post.text}\r\n            likes={post.likes}\r\n            comments={post.comments}\r\n          />\r\n        )                \r\n        )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostList;","import React from 'react';\r\nfunction SearchBar({value, onSearch}){\r\n\r\n  function getSearch(idValue){\r\n    value = idValue;\r\n    return onSearch(value);\r\n  }\r\n    \r\n  return (\r\n    <form className=\"d-flex\">\r\n      <input \r\n        className=\"form-control\" \r\n        type=\"search\" \r\n        placeholder=\"Buscar\" \r\n        aria-label=\"Search\"\r\n        id=\"idSearch\"\r\n        onChange={()=>{getSearch(document.getElementById('idSearch').value);}}></input>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport { logout } from '../Services/axiosConfig';\r\nfunction Profile({avatar, username, bio, onClickLogout}){\r\n  const body = {\r\n    username: localStorage.getItem('username'),\r\n    password: localStorage.getItem('password'),\r\n  };\r\n  let logoutBtn = () => {\r\n    logout(body)\r\n      .then(response => {\r\n        if(response?.status === 200 || response?.status === 204){\r\n          return onClickLogout;\r\n        }\r\n      });\r\n  };\r\n  return(\r\n    <div>\r\n      <div className=\"text-center m-3\">\r\n        <img className=\"text-center rounded-image mx-auto d-block avatar\" src={avatar}></img>\r\n      </div>\r\n      <div className=\"m-3\">\r\n        <p className=\"text-center h3\">{username}</p>\r\n      </div>\r\n      <div className=\"m-3\">\r\n        <p className=\"text-center\">{bio}</p>\r\n      </div>\r\n      <div className=\"mt-4 d-grid gap-2\">\r\n        <button className=\"text-center btn btn-primary\" type=\"button\" onClick={()=>onClickLogout(logoutBtn)}>Salir</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React, { useState } from 'react';\r\nimport { login } from '../Services/axiosConfig';\r\n\r\nfunction Login(props){\r\n\r\n  const [error, setError] = useState(false);  \r\n\r\n  let changeLike = (bool) => {\r\n    setError( bool);\r\n  };\r\n\r\n  let setUser = (userID) => {\r\n    localStorage.setItem('UserID', JSON.stringify(userID));\r\n  };\r\n\r\n  let loginData = (data) => {\r\n    localStorage.setItem('username', data.username);\r\n    localStorage.setItem('password', data.password);\r\n  };\r\n  let handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const body = {\r\n      username: event.target.email.value,\r\n      password: event.target.password.value\r\n    };\r\n    loginData(body);\r\n    login(body)\r\n      .then(response => {\r\n        if (response?.status === 200){\r\n          setUser(response.data);\r\n          props.onLoginComplete(true);\r\n          changeLike(false);\r\n        }else{\r\n          changeLike(true);\r\n          closeMessageDiv();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        changeLike(true);\r\n        closeMessageDiv();\r\n      });\r\n  };\r\n\r\n  let closeMessageDiv = () =>{        \r\n    setInterval(()=>{ \r\n      changeLike(false); \r\n    }, 7000);\r\n  };\r\n  return (\r\n    <div>                \r\n      {\r\n        error ? (\r\n          <div className=\"errorMessage\">\r\n            <p className=\"ms-3 fw-bold\">Usuario o contraseña invalida</p>\r\n          </div>\r\n        ): (\r\n          ''\r\n        )\r\n      }\r\n      <form onSubmit={handleSubmit} className=\"m-2\">\r\n        <div>\r\n          <h3 className=\"text-center mt-3\">Oriller Login</h3>\r\n        </div>\r\n        <hr></hr>\r\n        <div className=\"mb-3 mt-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email</label>\r\n          <input className=\"form-control\" \r\n            id=\"exampleInputEmail1\" \r\n            name=\"email\">\r\n          </input>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\r\n          <input type=\"password\" \r\n            className=\"form-control\" \r\n            id=\"exampleInputPassword1\"\r\n            name=\"password\">\r\n          </input>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary col-12 mt-3\">\r\n                    Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import React, { useState, useEffect }  from 'react';\r\nimport './App.css';\r\nimport Navbar from './Componentes/Navbar';\r\nimport PostList from './Componentes/PostList';\r\nimport SearchBar from './Componentes/Searchbar';\r\nimport Profile from './Componentes/Profile';\r\nimport Login from './Componentes/login';\r\nimport { getPost, getUser } from './Services/axiosConfig';\r\nimport { Switch, Route, useHistory } from 'react-router-dom';\r\n\r\nfunction App(){\r\n  const loadingText = 'Loading...';\r\n  const [post, setPost] = useState([]);\r\n  const [currentUser, setcurrentUser] = useState([]);\r\n  const [loginOk, setLoginOK] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n  const [section, setSection] = useState('Post');\r\n  const history = useHistory(); \r\n  let user = JSON.parse(localStorage.getItem('UserID'));\r\n  let handlePost = (data) => {\r\n    setPost(data);    \r\n  };    \r\n  let handleUser = (userParam) => {\r\n    setcurrentUser(userParam);\r\n  };\r\n  let handleLoginOk = (login) => {\r\n    setLoginOK(login);\r\n    if(login === true){\r\n      handleUser(JSON.parse(localStorage.getItem('UserID')));\r\n      posts();\r\n      changeSection('Post');\r\n    }else{\r\n      history.push('/login');      \r\n    }    \r\n  };\r\n  let posts = () => {\r\n    getPost()\r\n      .then(response => {\r\n        handlePost(response.data);\r\n      });\r\n  };\r\n  // Should not ever set state during rendering, so do this in useEffect instead.\r\n  useEffect(() => {\r\n    if(user){\r\n      getUser(user.id)\r\n        .then(response => {\r\n          if(response?.status === 200){\r\n            handleLoginOk(true);\r\n          }\r\n          else if(response?.status === 401){\r\n            handleUser([]);\r\n            handleLoginOk(false);\r\n          }\r\n          else{\r\n            //(response?.status + ' FALLO');\r\n          }\r\n        })\r\n        .catch( ()=> {\r\n          //ERROR\r\n        });\r\n    }else{    \r\n      history.push('/login');\r\n    }\r\n  }, []);\r\n\r\n  let changeSearch = (value) => {\r\n    setSearch( value);\r\n  };\r\n  let changeSection = (value) => {\r\n    setSection( value);\r\n    if(value === 'Post'){    \r\n      posts();  \r\n      history.push('/');\r\n    }else if(value === 'Logo'){\r\n      handlePost([]);\r\n      history.push('/Profile');\r\n    }\r\n  };\r\n  let changeToLogout = (value) =>{   \r\n    if(value){\r\n      handleLoginOk(false);\r\n      handleUser([]);\r\n      handlePost([]);\r\n      changeSection([]);\r\n      localStorage.clear();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <Switch>\r\n        {\r\n          loginOk? (\r\n            <div>\r\n              <Navbar onLogoClick={(logo)=>changeSection(logo)} onProfileClick={(profile)=>changeSection(profile)}/>\r\n              {section === 'Post'?(\r\n                post.length > 0? (       \r\n                  <div> \r\n                    <SearchBar value={search} onSearch={(value)=>changeSearch(value)}/>          \r\n                    <Route path=\"/\" exact component={(props) => \r\n                      <PostList {...props} posts={post} search={search}/>} />\r\n                  </div>\r\n                ):\r\n                  <div>\r\n                    {loadingText}\r\n                  </div>\r\n              ):\r\n                <div>\r\n                  <Route path=\"/Profile\" exact component={(props) => \r\n                    <Profile {...props} \r\n                      avatar={currentUser.avatar} \r\n                      username={currentUser.username} \r\n                      bio={currentUser.bio} \r\n                      onClickLogout={(logout)=>changeToLogout(logout)}/>} />\r\n                </div>}\r\n            </div>   \r\n          ): \r\n            <div>\r\n              {currentUser.length > 0? (\r\n                <div>\r\n                  <h3 className=\"text-center\">Oriller Login</h3>\r\n                  <hr></hr>\r\n                  {loadingText}\r\n                </div>  \r\n              ): \r\n                <Route path=\"/login\"  exact component={(props) =>                 \r\n                  <Login {...props} onLoginComplete={(login)=> handleLoginOk(login) }/> }/>\r\n              }\r\n            </div>\r\n        }\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}